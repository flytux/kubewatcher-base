<!DOCTYPE html>
<html lang="ko" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{layout/layout}">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <script>
        let datas = {
            "menu_id": "140",
            "rows": [
                {
                    "row_id": 0,
                    "is_divider": false,
                    "title": "보험코어 JVM 현황",
                    "order": "",
                    "panels": [
                        {
                            "panel_id": 0,
                            "title": 'JVM',
                            "panel_type": "card",
                            "data_type": "text",
                            "src": "",
                            "item": '102'
                        },
                        {
                            "panel_id": 1,
                            "title": "JAM Avg.CPU",
                            "panel_type": "card-badge",
                            "data_type": "text",
                            "src": "",
                            "item": "35"
                        },
                        {
                            "panel_id": 2,
                            "title": "Avg.Heap Memory",
                            "panel_type": "card-badge",
                            "data_type": "text",
                            "src": "",
                            "item": "90"
                        },
                        {
                            "panel_id": 3,
                            "title": "Active Thread",
                            "panel_type": "card-badge",
                            "data_type": "text",
                            "src": "",
                            "item": "68"
                        },
                        {
                            "panel_id": 4,
                            "title": "Avg.GC Time",
                            "panel_type": "card-badge",
                            "data_type": "text",
                            "src": "",
                            "item": "12"
                        }
                    ]
                },
                {
                    "row_id": 1,
                    "is_divider": false,
                    "title": "보험코어 JVM Inspector",
                    "order": "",
                    "panels": [
                        {
                            "panel_id": 5,
                            "title": "Heap Level [Memory bytes]",
                            "panel_type": "box",
                            "data_type": "text",
                            "src": "",
                            "item": "chart4.jpg"
                        },
                        {
                            "panel_id": 6,
                            "title": "Non Heap Usage [Memory bytes]",
                            "panel_type": "box",
                            "data_type": "text",
                            "src": "",
                            "item": "chart3.jpg"
                        },
                        {
                            "panel_id": 7,
                            "title": "PS Dden [Memory bytes]",
                            "panel_type": "box",
                            "data_type": "text",
                            "src": "",
                            "item": "chart2.jpg"
                        },
                        {
                            "panel_id": 8,
                            "title": "PS Old Gen [Memory bytes]",
                            "panel_type": "box",
                            "data_type": "text",
                            "src": "",
                            "item": "chart1.jpg"
                        }
                    ]
                },
                {
                    "row_id": 2,
                    "is_divider": false,
                    "title": " 보험코어 JVM Inspector",
                    "order": "",
                    "panels": [
                        {
                            "panel_id": 9,
                            "title": "Thread Level",
                            "panel_type": "box",
                            "data_type": "text",
                            "src": "",
                            "item": "chart5.jpg"
                        },
                        {
                            "panel_id": 10,
                            "title": "GC Count",
                            "panel_type": "box",
                            "data_type": "text",
                            "src": "",
                            "item": "chart6.jpg"
                        }
                    ]
                },
                {
                    "row_id": 3,
                    "is_divider": false,
                    "title": " 보험코어 JVM Inspector",
                    "order": "",
                    "panels": [
                        {
                            "panel_id": 11,
                            "title": "GC Time / 1 min.rate",
                            "panel_type": "box",
                            "data_type": "text",
                            "src": "",
                            "item": "chart6.jpg"
                        },
                        {
                            "panel_id": 12,
                            "title": "Class loading",
                            "panel_type": "box",
                            "data_type": "text",
                            "src": "",
                            "item": "chart5.jpg"
                        }
                    ]
                },
                {
                    "row_id": 4,
                    "is_divider": false,
                    "title": "보험코어 JVM 이벤트",
                    "order": "",
                    "panels": [
                        {
                            "panel_id": 13,
                            "title": 'Open Events',
                            "panel_type": "card-multi-round",
                            "data_type": "text",
                            "src": "",
                            "item": [68, 'Open system event', 142, 205]
                        },
                        {
                            "panel_id": 14,
                            "title": 'Closed Events',
                            "panel_type": "card-multi-round",
                            "data_type": "text",
                            "src": "",
                            "item": [42, 'Closed system event', 88, 193]
                        },
                        {
                            "panel_id": 15,
                            "title": "Table spaces",
                            "panel_type": "table-level",
                            "data_type": "text",
                            "src": "",
                            "item": {
                                head:['itemId', 'JVM', 'Event', 'Time', 'Level'],
                                body:[
                                    {'itemId':'0', 'JVM': 'VM001', 'Event': '///', 'Time': '2020-05-22 12:42:13', 'Level': 'normal'},
                                    {'itemId':'1', 'JVM': 'VM002', 'Event': '///', 'Time': '2020-05-22 12:42:13', 'Level': 'warning'},
                                    {'itemId':'2', 'JVM': 'VM003', 'Event': '///', 'Time': '2020-05-22 12:42:13', 'Level': 'danger'},
                                    {'itemId':'3', 'JVM': 'VM004', 'Event': '///', 'Time': '2020-05-22 12:42:13', 'Level': 'normal'},
                                    {'itemId':'4', 'JVM': 'VM005', 'Event': '///', 'Time': '2020-05-22 12:42:13', 'Level': 'normal'}
                                ]
                            }
                        }
                    ]
                }
            ]
        };

        $().ready(function(){
            let rtnHtml = pTempJs.generatePanelList(datas.rows);

            for(let html of rtnHtml) {
                let idx = html.rowId,
                    $this = $('#main_contents .append').eq(idx),
                    $target, clone, el;

                $this.children().remove();
                $this.append(html.panels);

                //예외처리
                if(idx === 0) {
                    el = '<div class="col-xs-12 col-md-12 col-lg-10" style="padding-left:0px; padding-right:0px;"/>',
                    clone = pTempJs.clone($this).children(':gt(0)').wrapAll(el).parent();

                    $this.children(':gt(0)').remove();
                    $this.append(clone);

                    $target = $this.children();
                    pTempJs.resize($target.eq(0), 2.4, 2);
                    $target.eq(0).css('padding-right', '0px');
                    pTempJs.resize($target.eq(1).children(), 2.4, 3);
                    $target.eq(1).children().css('padding-right', '0px');
                } else if(idx === 4){
                    idx = $this.children(':last').index();
                    clone = pTempJs.clone($this).children();

                    let el = {
                            inner: [
                                '<div class="box_panel col-xs-12" style="height:225px;"/>',
                                '<div class="box_panel" style="padding-bottom:5px;">'
                            ],
                            outer: [
                                '<div class="col-xs-12 col-md-12 col-lg-5" style="padding-right:0px;">',
                                '<div class="col-xs-12 col-md-12 col-lg-7" style="padding-right:0px;">'
                            ]
                        },
                        tagArray = [clone.not(':eq(' + idx + ')'), clone.eq(idx).children()];

                    $this.children().remove();
                    for(let key in tagArray) {
                        let tag = tagArray[key].wrapAll(el.inner[key]).parent().wrapAll(el.outer[key]).parent();
                        $this.append(tag);
                    }
                }
            }
        });
    </script>
</head>
<body>
<div layout:fragment="content" th:remove="tag">

    <th:block th:replace="layout/header :: header(navTitle='Home<i class=&quot;feather icon-chevron-right&quot; ></i>Monitoring<i class=&quot;feather icon-chevron-right&quot; ></i>JVM<i class=&quot;feather icon-chevron-right&quot; ></i>Overview')"/>
    <div id="main_contents">
        <div class="row">
            <div class="main_title_top col-xs-12"><i class="feather icon-chevrons-right"></i> 보험코어 JVM 현황 <span class="main_stitle">[Version 1.8.9_241-b07]</span></div>
        </div>

        <div class="row append">
            <div class="col-xs-12 col-md-12 col-lg-2" style="padding-right:0px;">
                <div class="col-xs-12 box1">
                    <div class="title">JVM</div>
                    <div class="b_txt text-center">102</div>
                </div>
            </div>
            <div class="col-xs-12 col-md-12 col-lg-10" style="padding-left:0px; padding-right:0px;">
                <div class="col-md-12 col-lg-3" style="padding-right:0px;">

                    <div class="col-md-12 box_normal"><!-- normal box -->
                        <div class="row">
                            <div class="col-xs-12">
                                <div class="title">JVM Avg.CPU</div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-5">
                                <div class="b_txt">Normal<span class="b_stxt"></span></div>
                            </div>
                            <div class="col-xs-7 text-right" style="vertical-align: bottom;">
                                <input class="knob" data-width="90" data-height="90" data-angleoffset="0" data-thickness=".2" data-fgcolor="#007219"  data-bgcolor="#7cb78a"  value="35" >
                            </div>
                        </div>
                    </div>

                </div>
                <div class="col-md-12 col-lg-3" style="padding-right:0px;">
                    <div class="col-md-12 box_danger"><!-- danger box -->
                        <div class="row">
                            <div class="col-xs-12">
                                <div class="title">Avg.Heap Memory</div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-5">
                                <div class="b_txt">Danger<span class="b_stxt"></span></div>
                            </div>
                            <div class="col-xs-7 text-right" style="vertical-align: bottom;">
                                <input class="knob" data-width="90" data-height="90" data-angleoffset="0" data-thickness=".2" data-fgcolor="#cd2b30"  data-bgcolor="#e88071"  value="92" >
                            </div>
                        </div>
                    </div>

                </div>
                <div class="col-md-12 col-lg-3" style="padding-right:0px;">

                    <div class="col-md-12 box_warning"><!-- warning box -->
                        <div class="row">
                            <div class="col-xs-12">
                                <div class="title">Active Thread</div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-5">
                                <div class="b_txt">warning<span class="b_stxt"></span></div>
                            </div>
                            <div class="col-xs-7 text-right" style="vertical-align: bottom;">
                                <input class="knob" data-width="90" data-height="90" data-angleoffset="0" data-thickness=".2" data-fgcolor="#e08e00"  data-bgcolor="#f9d390"  value="68" >
                            </div>
                        </div>
                    </div>

                </div>
                <div class="col-md-12 col-lg-3" style="padding-right:0px;">

                    <div class="col-md-12 box_normal"><!-- normal box -->
                        <div class="row">
                            <div class="col-xs-12">
                                <div class="title">Avg.GC Time</div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-5">
                                <div class="b_txt">Normal<span class="b_stxt"></span></div>
                            </div>
                            <div class="col-xs-7 text-right" style="vertical-align: bottom;">
                                <input class="knob" data-width="90" data-height="90" data-angleoffset="0" data-thickness=".2" data-fgcolor="#007219"  data-bgcolor="#7cb78a"  value="35" >
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <!-- [보험코어 JVM 현황] END -->


        <!-- [보험코어 JVM Inspector] start -->
        <div class="row">
            <div class="main_title col-xs-12"><i class="feather icon-chevrons-right"></i> 보험코어 JVM Inspector</div>
        </div>
        <div class="row row_scroll"  style="padding-bottom:0px;">
            <div class="row append" style="padding-bottom:0px;">
                <div class="col-xs-12 col-md-12 col-lg-3" style="padding-right:0px; padding-bottom:0px;">
                    <div class="box_panel">
                        <div class="box_panel-heading">Heap Level [Memory bytes]</div>
                        <div class="box_panel-body">
                            <img th:src="@{/assets/img/chart4.jpg}" class="img-responsive" alt="" style="width:100%;">
                        </div>
                    </div>
                </div>
                <div class="col-xs-12 col-md-12 col-lg-3" style="padding-right:0px;">
                    <div class="box_panel">
                        <div class="box_panel-heading">Non Heap Usage [Memory bytes]</div>
                        <div class="box_panel-body">
                            <img th:src="@{/assets/img/chart3.jpg}" class="img-responsive" alt="" style="width:100%;">
                        </div>
                    </div>
                </div>
                <div class="col-xs-12 col-md-12 col-lg-3" style="padding-right:0px;">
                    <div class="box_panel">
                        <div class="box_panel-heading">PS Dden [Memory bytes]</div>
                        <div class="box_panel-body">
                            <img th:src="@{/assets/img/chart2.jpg}" class="img-responsive" alt="" style="width:100%;">
                        </div>
                    </div>
                </div>
                <div class="col-xs-12 col-md-12 col-lg-3" style="padding-right:0px;">
                    <div class="box_panel">
                        <div class="box_panel-heading">PS Old Gen [Memory bytes]</div>
                        <div class="box_panel-body">
                            <img th:src="@{/assets/img/chart1.jpg}" class="img-responsive" alt="" style="width:100%;">
                        </div>
                    </div>
                </div>
            </div>

            <div class="row append" style="padding-bottom:0px;">
                <div class="col-xs-12 col-md-12 col-lg-6" style="padding-right:0px; padding-bottom:0px;">
                    <div class="box_panel">
                        <div class="box_panel-heading">Thread Level</div>
                        <div class="box_panel-body" >
                            <img th:src="@{/assets/img/chart5.jpg}" class="img-responsive" alt="" style="width:100%;">
                        </div>
                    </div>
                </div>
                <div class="col-xs-12 col-md-12 col-lg-6" style="padding-right:0px;">
                    <div class="box_panel">
                        <div class="box_panel-heading">GC Count</div>
                        <div class="box_panel-body">
                            <img th:src="@{/assets/img/chart6.jpg}" class="img-responsive" alt="" style="width:100%; ">
                        </div>
                    </div>
                </div>
            </div>

            <div class="row append" style="padding-bottom:0px;">
                <div class="col-xs-12 col-md-12 col-lg-6" style="padding-right:0px; padding-bottom:0px;">
                    <div class="box_panel">
                        <div class="box_panel-heading">GC Time / 1 min.rate</div>
                        <div class="box_panel-body" >
                            <img th:src="@{/assets/img/chart6.jpg}" class="img-responsive" alt="" style="width:100%;">
                        </div>
                    </div>
                </div>
                <div class="col-xs-12 col-md-12 col-lg-6" style="padding-right:0px;">
                    <div class="box_panel">
                        <div class="box_panel-heading">Class loading</div>
                        <div class="box_panel-body">
                            <img th:src="@{/assets/img/chart5.jpg}" class="img-responsive" alt="" style="width:100%; ">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- [보험코어 JVM Inspector] END -->


        <!-- [EVENT] start -->
        <div class="row">
            <div class="main_title col-xs-12"><i class="feather icon-chevrons-right"></i> 보험코어 JVM 이벤트</div>
        </div>
        <div class="row append">
            <div class="col-xs-12 col-md-12 col-lg-5" style="padding-right:0px;">
                <div class="box_panel col-xs-12" style="height:225px;">
                    <div class="col-xs-6">
                        <div class="row">
                            <div class="box_panel-text text-center">Open Events</div>
                    </div>
                    <div class="row">
                        <div class="box_panel-text">
                            <input class="knob" data-linecap="round" data-width="115"  data-height="116" data-angleoffset="0" data-thickness=".4" data-fgcolor="#02a499"  data-bgcolor="#eeeeee"  value="68" style="">
                        </div>
                    </div>
                    <div class="row">
                        <div class="box_panel-stext"><div class="circle c_oe"></div>Open system event <span class="c_oe_t">142</span>/205</div>
                    </div>
                </div>
                <div class="col-xs-6">
                    <div class="row">
                        <div class="box_panel-text">Closed Events</div>
                    </div>
                    <div class="row">
                        <div class="box_panel-text">
                            <input class="knob" data-linecap="round" data-width="115"  data-height="116" data-angleoffset="0" data-thickness=".4" data-fgcolor="#4554d1"  data-bgcolor="#eeeeee"  value="42" style="">
                        </div>
                    </div>
                    <div class="row">
                        <div class="box_panel-stext"><div class="circle c_ce"></div>Closed system event <span class="c_ce_t">88</span>/193</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xs-12 col-md-12 col-lg-7" style="padding-right:0px;">
            <div class="box_panel" style="padding-bottom:5px;">
                <div class="box_panel-heading2"><div class="circle c_normal"></div>Normal&nbsp;&nbsp;&nbsp;&nbsp;<div class="circle c_warning"></div>Warning&nbsp;&nbsp;&nbsp;&nbsp;<div class="circle c_danger"></div>Danger</div>
                <div class="box_table-body">
                    <table class="list_system">
                        <thead>
                        <tr>
                            <th>JVM</th>
                            <th>Event</th>
                            <th>Time</th>
                            <th style="padding-right:25px;">Level</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>VM001</td>
                            <td>///</td>
                            <td>2020-03-24   12:34:05</td>
                            <td><div class="circle c_normal"></div></td>
                        </tr>
                        <tr>
                            <td>VM002</td>
                            <td>///</td>
                            <td>2020-03-24   12:34:05</td>
                            <td><div class="circle c_warning"></div></td>
                        </tr>
                        <tr>
                            <td>VM003</td>
                            <td>///</td>
                            <td>2020-03-24   12:34:05</td>
                            <td><div class="circle c_danger"></div></td>
                        </tr>
                        <tr>
                            <td>VM004</td>
                            <td>///</td>
                            <td>2020-03-24   12:34:05</td>
                            <td><div class="circle c_normal"></div></td>
                        </tr>
                        <tr>
                            <td>VM005</td>
                            <td>///</td>
                            <td>2020-03-24   12:34:05</td>
                            <td><div class="circle c_normal"></div></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>


</div>
</body>
</html>